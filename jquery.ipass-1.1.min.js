(function(a){a.fn.iPass=function(b){var f=a(this).css("fontStyle");var d=a(this).css("color");var e={charReplace:"%u25CF",charDuration:10000,color:"gray",fontStyle:"italic",retain:true};var c=a.extend(e,b);var g=null;a(this).each(function(){tempField=a(this).attr("name");a(this).attr("name","tmp_"+tempField);a(this).val(a(this).attr("title"));a(this).css("font-style",c.fontStyle);a(this).css("color",c.color);a(this).parent().append('<input name="'+tempField+'" id="'+tempField+'" type="hidden" />')});if(c.retain){a(this).keydown(function(){clearField(this)})}else{a(this).focus(function(){clearField(this)})}a(this).blur(function(){if(a(this).val().length==0){a(this).val(a(this).attr("title"));a(this).css("font-style",c.fontStyle);a(this).css("color",c.color)}});a(this).bind("keypress",function(h){clearTimeout(g);var l="";if(a(this).val().length>0){if(h.which==8){deleteLast(this)}else{currentValue=currentValue+a(this).val().slice(a(this).val().length-1);for(i=0;i<=a(this).val().length-1;++i){l=l+unescape(c.charReplace)}lastLetter=a(this).val().charAt(a(this).val().length-1);if(lastLetter!=unescape(c.charReplace)){saveString(lastLetter,this)}a(this).val(l);g=setTimeout("hideAll('"+a(this).attr("name")+"')",c.charDuration)}}else{currentValue=a(this).val();var k=a(this).attr("name");var j=k.substr(k.indexOf("_")+1);a("input[name='"+j+"']").val("")}});clearField=function(h){if(a(h).val()==a(h).attr("title")){a(h).val("");a(h).css("font-style",f);a(h).css("color",d)}};hideAll=function(j){lastLetter=a("input[name='"+j+"']").val().charAt(a("input[name='"+j+"']").val().length-1);var k=j.substr(j.indexOf("_")+1);var h=a("input[name='"+k+"']").val();a("input[name='"+k+"']").val(h+lastLetter);var l="";for(i=0;i<=a("input[name='"+j+"']").val().length-1;++i){l=l+unescape(c.charReplace)}a("input[name='"+j+"']").val(l)};saveString=function(m,j){var l=a(j).attr("name");var k=l.substr(l.indexOf("_")+1);var h=a("input[name='"+k+"']").val();a("input[name='"+k+"']").val(h+m)};deleteLast=function(j){var m=a(j).attr("name");var l=m.substr(m.indexOf("_")+1);var h=a("input[name='"+l+"']").val();var k=a("input[name='"+l+"']").val().length;a("input[name='"+l+"']").val(h.substring(0,k-1))}}})(jQuery);